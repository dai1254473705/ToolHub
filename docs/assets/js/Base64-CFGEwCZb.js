import{i as e}from"./rolldown-runtime-tH7qxucP.js";import{E as s,G as o,O as a,g as l,i as t,k as r,l as c,p as n,r as i,x as d,z as m}from"./antd-DHjKV_bb.js";import{E as h,T as x}from"./react-DF9HAzp0.js";import{A as j,E as u}from"./vendor-C33QSf7L.js";var b=e(o()),p=e(x()),{Title:g,Text:f}=i,{TextArea:v}=l,y=()=>{const{t:e}=h(),[o,l]=(0,b.useState)(""),[i,x]=(0,b.useState)(""),[y,w]=(0,b.useState)("encode");return(0,p.jsxs)("div",{className:"base64-tool",children:[(0,p.jsx)(g,{level:2,children:e("tools.base64.title")}),(0,p.jsx)(f,{type:"secondary",children:e("tools.base64.description")}),(0,p.jsxs)(a,{className:"tool-card",bordered:!1,children:[(0,p.jsx)(r,{activeKey:y,onChange:e=>w(e),items:[{key:"encode",label:e("tools.base64.encode")},{key:"decode",label:e("tools.base64.decode")}]}),(0,p.jsxs)(c,{gutter:[16,16],children:[(0,p.jsx)(s,{xs:24,md:12,children:(0,p.jsxs)("div",{className:"input-section",children:[(0,p.jsxs)("div",{className:"section-header",children:[(0,p.jsx)(f,{strong:!0,children:e("tools.base64.input")}),(0,p.jsx)(m,{size:"small",icon:(0,p.jsx)(u,{}),onClick:()=>{l(""),x("")},children:e("common.clear")})]}),(0,p.jsx)(v,{value:o,onChange:e=>{return s=e.target.value,void l(s);var s},placeholder:e("encode"===y?"tools.base64.inputPlaceholder.encode":"tools.base64.inputPlaceholder.decode"),rows:10,allowClear:!0})]})}),(0,p.jsx)(s,{xs:24,md:12,children:(0,p.jsxs)("div",{className:"output-section",children:[(0,p.jsxs)("div",{className:"section-header",children:[(0,p.jsx)(f,{strong:!0,children:e("tools.base64.output")}),(0,p.jsxs)(d,{children:[(0,p.jsx)(m,{size:"small",icon:(0,p.jsx)(j,{}),onClick:()=>{l(i),x(""),w("encode"===y?"decode":"encode")},children:e("common.swap")}),(0,p.jsx)(m,{size:"small",icon:(0,p.jsx)(t,{}),onClick:()=>{i?navigator.clipboard.writeText(i).then(()=>{n.success(e("tools.base64.messages.copySuccess"))}):n.warning(e("tools.base64.messages.copyEmpty"))},children:e("common.copy")})]})]}),(0,p.jsx)(v,{value:i,readOnly:!0,placeholder:e("encode"===y?"tools.base64.outputPlaceholder.encode":"tools.base64.outputPlaceholder.decode"),rows:10})]})})]}),(0,p.jsx)("div",{className:"action-section",children:(0,p.jsx)(m,{type:"primary",size:"large",onClick:()=>{"encode"===y?(()=>{if(o.trim())try{const s=(new TextEncoder).encode(o),a=btoa(String.fromCharCode(...s));x(a),n.success(e("tools.base64.messages.encodeSuccess"))}catch(s){n.error(e("tools.base64.messages.encodeError",{error:s instanceof Error?s.message:"未知错误"}))}else n.warning(e("tools.base64.messages.inputEmpty.encode"))})():(()=>{if(o.trim())try{const s=atob(o),a=new Uint8Array(s.length);for(let e=0;e<s.length;e++)a[e]=s.charCodeAt(e);const l=new TextDecoder;x(l.decode(a)),n.success(e("tools.base64.messages.decodeSuccess"))}catch(s){n.error(e("tools.base64.messages.decodeError",{error:s instanceof Error?s.message:e("tools.base64.messages.decodeErrorDefault")}))}else n.warning(e("tools.base64.messages.inputEmpty.decode"))})()},block:!0,children:e("encode"===y?"tools.base64.encode":"tools.base64.decode")})})]}),(0,p.jsxs)(a,{className:"info-card",bordered:!1,children:[(0,p.jsx)(g,{level:4,children:e("tools.base64.info.what.title")}),(0,p.jsx)(f,{children:e("tools.base64.info.what.content")}),(0,p.jsx)(g,{level:4,style:{marginTop:16},children:e("tools.base64.info.features.title")}),(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:e("tools.base64.info.features.list.0")}),(0,p.jsx)("li",{children:e("tools.base64.info.features.list.1")}),(0,p.jsx)("li",{children:e("tools.base64.info.features.list.2")}),(0,p.jsx)("li",{children:e("tools.base64.info.features.list.3")})]})]})]})};export{y as default};