import{r as e}from"./rolldown-runtime-Dyt8byMj.js";import{E as s,G as r,N as i,O as l,_ as a,b as n,m as c,n as d,o as t,s as o}from"./react-oMMneaen.js";import{O as x,a as j,j as h}from"./vendor-DIW1e2QO.js";var g=e(r()),m=e(d()),{Title:u,Text:v}=o,{TextArea:p}=a,y=()=>{const[e,r]=(0,g.useState)(""),[a,d]=(0,g.useState)(""),[o,y]=(0,g.useState)("data-url"),T=(0,g.useRef)(null),f=e=>{if("data-url"===o)r(e);else{const s=e.split(",")[1];r(s||"")}};return(0,m.jsxs)("div",{className:"image-base64",children:[(0,m.jsx)(u,{level:2,children:"图片转 Base64"}),(0,m.jsx)(v,{type:"secondary",children:"将图片转换为 Base64 编码"}),(0,m.jsx)(s,{className:"tool-card",bordered:!1,children:(0,m.jsxs)(n,{direction:"vertical",size:"large",style:{width:"100%"},children:[(0,m.jsxs)("div",{children:[(0,m.jsx)(v,{strong:!0,children:"选择图片"}),(0,m.jsx)(t,{accept:"image/*",showUploadList:!1,onChange:e=>{const s=e.file.originFileObj;if(!s)return;if(!s.type.startsWith("image/"))return void c.error("请选择图片文件");if(s.size>5242880)return void c.error("图片大小不能超过 5MB");const r=new FileReader;r.onload=e=>{const s=e.target?.result;d(s),f(s)},r.readAsDataURL(s)},beforeUpload:()=>!1,customRequest:()=>{},children:(0,m.jsx)(i,{icon:(0,m.jsx)(j,{}),children:"选择图片"})}),(0,m.jsx)(v,{type:"secondary",style:{marginLeft:12},children:"支持 PNG、JPG、GIF、WebP 等格式，最大 5MB"})]}),a&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{children:[(0,m.jsx)(v,{strong:!0,children:"输出格式"}),(0,m.jsxs)(l.Group,{value:o,onChange:e=>{y(e.target.value),f(a)},style:{marginTop:8,marginLeft:16},children:[(0,m.jsx)(l,{value:"data-url",children:"Data URL (完整)"}),(0,m.jsx)(l,{value:"raw",children:"纯 Base64 (无前缀)"})]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)(v,{strong:!0,children:"图片预览"}),(0,m.jsx)("div",{className:"preview-container",children:(0,m.jsx)("img",{src:a,alt:"Preview",className:"preview-image"})})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"section-header",children:[(0,m.jsxs)(v,{strong:!0,children:["Base64 结果 (",e.length.toLocaleString()," 字符)"]}),(0,m.jsxs)(n,{children:[(0,m.jsx)(i,{size:"small",icon:(0,m.jsx)(x,{}),onClick:()=>{e?(navigator.clipboard.writeText(e),c.success("已复制到剪贴板")):c.warning("没有可复制的内容")},children:"复制"}),(0,m.jsx)(i,{size:"small",icon:(0,m.jsx)(h,{}),onClick:()=>{r(""),d(""),T.current&&(T.current.value="")},children:"清空"})]})]}),(0,m.jsx)(p,{value:e,readOnly:!0,rows:10,className:"base64-output"})]})]})]})}),(0,m.jsxs)(s,{className:"info-card",bordered:!1,children:[(0,m.jsx)(u,{level:4,children:"什么是 Base64 图片？"}),(0,m.jsx)(v,{children:"Base64 是一种用 64 个字符来表示任意二进制数据的方法。 将图片转换为 Base64 编码后，可以直接嵌入 HTML、CSS 中，无需额外的 HTTP 请求。"}),(0,m.jsx)(u,{level:4,style:{marginTop:16},children:"格式说明"}),(0,m.jsxs)("ul",{children:[(0,m.jsxs)("li",{children:[(0,m.jsx)(v,{strong:!0,children:"Data URL:"})," 完整格式，包含",(0,m.jsx)(v,{code:!0,children:"data:image/png;base64,"})," 前缀，可直接用于 <img> 标签"]}),(0,m.jsxs)("li",{children:[(0,m.jsx)(v,{strong:!0,children:"纯 Base64:"})," 只包含编码数据，不包含前缀"]})]}),(0,m.jsx)(u,{level:4,style:{marginTop:16},children:"使用示例"}),(0,m.jsx)("div",{className:"code-example",children:(0,m.jsx)("pre",{children:'\x3c!-- HTML --\x3e\n<img src="data:image/png;base64,iVBORwKGgo..." />\n\n\x3c!-- CSS --\x3e\nbackground-image: url(data:image/png;base64,iVBORwKGgo...);'})}),(0,m.jsx)(u,{level:4,style:{marginTop:16},children:"优缺点"}),(0,m.jsxs)("ul",{children:[(0,m.jsxs)("li",{children:[(0,m.jsx)(v,{type:"success",children:"优点："}),"减少 HTTP 请求、可缓存、简单部署"]}),(0,m.jsxs)("li",{children:[(0,m.jsx)(v,{type:"warning",children:"缺点："}),"文件体积增大约 33%、不适合大图片"]})]}),(0,m.jsx)(u,{level:4,style:{marginTop:16},children:"适用场景"}),(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{children:"小图标、Logo"}),(0,m.jsx)("li",{children:"加载动画"}),(0,m.jsx)("li",{children:"邮件嵌入图片"}),(0,m.jsx)("li",{children:"单文件应用"})]})]})]})};export{y as default};