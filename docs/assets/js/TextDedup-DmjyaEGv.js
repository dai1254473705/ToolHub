import{i as e}from"./rolldown-runtime-tH7qxucP.js";import{D as s,O as t,R as o,W as l,g as r,i,j as n,p as d,r as c,x as a}from"./antd-_Zl8gVdI.js";import{E as x,T as h}from"./react-BimuKvkN.js";import{w as p}from"./vendor-ClqHxgW3.js";var u=e(l()),j=e(h()),{Title:m,Text:g}=c,{TextArea:v}=r,D=()=>{const{t:e}=x(),[l,r]=(0,u.useState)(""),[c,h]=(0,u.useState)(!1),[D,f]=(0,u.useState)(!0),[C,w]=(0,u.useState)(!0),[y,N]=(0,u.useState)("none"),k=(0,u.useMemo)(()=>{if(!l)return"";let e=l.split("\n");C&&(e=e.filter(e=>""!==e.trim()));const s=new Map;e.forEach(e=>{const t=D?e.trim():e,o=c?t.toLowerCase():t;s.has(o)||s.set(o,e)});let t=Array.from(s.values());return"none"!==y&&t.sort((e,s)=>{const t=(c?e.toLowerCase():e).trim(),o=(c?s.toLowerCase():s).trim();return"asc"===y?t.localeCompare(o):o.localeCompare(t)}),t.join("\n")},[l,c,D,C,y]),S=(0,u.useMemo)(()=>{const e=l.split("\n").filter(e=>""!==e.trim()),s=k.split("\n").filter(e=>""!==e.trim());return{original:e.length,result:s.length,removed:e.length-s.length}},[l,k]);return(0,j.jsxs)("div",{className:"text-dedup",children:[(0,j.jsx)(m,{level:2,children:e("tools.textDedup.title")}),(0,j.jsx)(g,{type:"secondary",children:e("tools.textDedup.description")}),(0,j.jsx)(t,{className:"tool-card",bordered:!1,children:(0,j.jsxs)(a,{direction:"vertical",size:"large",style:{width:"100%"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(g,{strong:!0,children:e("tools.textDedup.options.title")}),(0,j.jsxs)("div",{className:"options-section",children:[(0,j.jsx)(s,{checked:c,onChange:e=>h(e.target.checked),children:e("tools.textDedup.options.ignoreCase")}),(0,j.jsx)(s,{checked:D,onChange:e=>f(e.target.checked),children:e("tools.textDedup.options.trim")}),(0,j.jsx)(s,{checked:C,onChange:e=>w(e.target.checked),children:e("tools.textDedup.options.removeEmpty")})]}),(0,j.jsxs)("div",{className:"sort-section",children:[(0,j.jsx)(g,{strong:!0,children:e("tools.textDedup.options.sort.title")}),(0,j.jsxs)(n.Group,{value:y,onChange:e=>N(e.target.value),children:[(0,j.jsx)(n,{value:"none",children:e("tools.textDedup.options.sort.none")}),(0,j.jsx)(n,{value:"asc",children:e("tools.textDedup.options.sort.asc")}),(0,j.jsx)(n,{value:"desc",children:e("tools.textDedup.options.sort.desc")})]})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"section-header",children:[(0,j.jsxs)(g,{strong:!0,children:[e("tools.textDedup.input")," (",S.original,")"]}),(0,j.jsx)(o,{size:"small",icon:(0,j.jsx)(p,{}),onClick:()=>{r("")},children:e("common.clear")})]}),(0,j.jsx)(v,{value:l,onChange:e=>r(e.target.value),placeholder:e("tools.textDedup.placeholder"),rows:10,allowClear:!0})]}),l&&(0,j.jsx)("div",{children:(0,j.jsx)("div",{className:"stats-info",children:(0,j.jsx)(g,{children:e("tools.textDedup.stats",{result:S.result,removed:S.removed})})})}),k&&(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"section-header",children:[(0,j.jsxs)(g,{strong:!0,children:[e("tools.textDedup.result")," (",S.result,")"]}),(0,j.jsx)(o,{size:"small",icon:(0,j.jsx)(i,{}),onClick:()=>{k?(navigator.clipboard.writeText(k),d.success(e("tools.textDedup.messages.copySuccess"))):d.warning(e("tools.textDedup.messages.copyEmpty"))},children:e("common.copy")})]}),(0,j.jsx)(v,{value:k,readOnly:!0,rows:10,className:"result-textarea"})]})]})}),(0,j.jsxs)(t,{className:"info-card",bordered:!1,children:[(0,j.jsx)(m,{level:4,children:e("tools.textDedup.info.title")}),(0,j.jsxs)("ul",{children:[(0,j.jsxs)("li",{children:[(0,j.jsxs)(g,{strong:!0,children:[e("tools.textDedup.options.ignoreCase"),"："]}),'开启后，"ABC" 和 "abc" 会被视为相同内容']}),(0,j.jsxs)("li",{children:[(0,j.jsxs)(g,{strong:!0,children:[e("tools.textDedup.options.trim"),"："]}),"开启后，比较时会忽略每行首尾的空格"]}),(0,j.jsxs)("li",{children:[(0,j.jsxs)(g,{strong:!0,children:[e("tools.textDedup.options.removeEmpty"),"："]}),"自动删除所有空白行"]}),(0,j.jsxs)("li",{children:[(0,j.jsxs)(g,{strong:!0,children:[e("tools.textDedup.options.sort.title"),"："]}),"可选择升序或降序排列结果"]})]}),(0,j.jsx)(m,{level:4,style:{marginTop:16},children:e("tools.textDedup.info.usage")}),(0,j.jsxs)("ul",{children:[(0,j.jsx)("li",{children:e("tools.textDedup.info.list.0")}),(0,j.jsx)("li",{children:e("tools.textDedup.info.list.1")}),(0,j.jsx)("li",{children:e("tools.textDedup.info.list.2")}),(0,j.jsx)("li",{children:e("tools.textDedup.info.list.3")}),(0,j.jsx)("li",{children:e("tools.textDedup.info.list.4")})]})]})]})};export{D as default};