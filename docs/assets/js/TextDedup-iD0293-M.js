import{i as e}from"./rolldown-runtime-tH7qxucP.js";import{D as s,G as t,O as o,g as l,i as r,j as i,p as n,r as d,x as c,z as a}from"./antd-DHjKV_bb.js";import{E as x,T as h}from"./react-DF9HAzp0.js";import{E as p}from"./vendor-C33QSf7L.js";var u=e(t()),j=e(h()),{Title:m,Text:g}=d,{TextArea:v}=l,D=()=>{const{t:e}=x(),[t,l]=(0,u.useState)(""),[d,h]=(0,u.useState)(!1),[D,f]=(0,u.useState)(!0),[C,y]=(0,u.useState)(!0),[w,N]=(0,u.useState)("none"),k=(0,u.useMemo)(()=>{if(!t)return"";let e=t.split("\n");C&&(e=e.filter(e=>""!==e.trim()));const s=new Map;e.forEach(e=>{const t=D?e.trim():e,o=d?t.toLowerCase():t;s.has(o)||s.set(o,e)});let o=Array.from(s.values());return"none"!==w&&o.sort((e,s)=>{const t=(d?e.toLowerCase():e).trim(),o=(d?s.toLowerCase():s).trim();return"asc"===w?t.localeCompare(o):o.localeCompare(t)}),o.join("\n")},[t,d,D,C,w]),E=(0,u.useMemo)(()=>{const e=t.split("\n").filter(e=>""!==e.trim()),s=k.split("\n").filter(e=>""!==e.trim());return{original:e.length,result:s.length,removed:e.length-s.length}},[t,k]);return(0,j.jsxs)("div",{className:"text-dedup",children:[(0,j.jsx)(m,{level:2,children:e("tools.textDedup.title")}),(0,j.jsx)(g,{type:"secondary",children:e("tools.textDedup.description")}),(0,j.jsx)(o,{className:"tool-card",bordered:!1,children:(0,j.jsxs)(c,{direction:"vertical",size:"large",style:{width:"100%"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(g,{strong:!0,children:e("tools.textDedup.options.title")}),(0,j.jsxs)("div",{className:"options-section",children:[(0,j.jsx)(s,{checked:d,onChange:e=>h(e.target.checked),children:e("tools.textDedup.options.ignoreCase")}),(0,j.jsx)(s,{checked:D,onChange:e=>f(e.target.checked),children:e("tools.textDedup.options.trim")}),(0,j.jsx)(s,{checked:C,onChange:e=>y(e.target.checked),children:e("tools.textDedup.options.removeEmpty")})]}),(0,j.jsxs)("div",{className:"sort-section",children:[(0,j.jsx)(g,{strong:!0,children:e("tools.textDedup.options.sort.title")}),(0,j.jsxs)(i.Group,{value:w,onChange:e=>N(e.target.value),children:[(0,j.jsx)(i,{value:"none",children:e("tools.textDedup.options.sort.none")}),(0,j.jsx)(i,{value:"asc",children:e("tools.textDedup.options.sort.asc")}),(0,j.jsx)(i,{value:"desc",children:e("tools.textDedup.options.sort.desc")})]})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"section-header",children:[(0,j.jsxs)(g,{strong:!0,children:[e("tools.textDedup.input")," (",E.original,")"]}),(0,j.jsx)(a,{size:"small",icon:(0,j.jsx)(p,{}),onClick:()=>{l("")},children:e("common.clear")})]}),(0,j.jsx)(v,{value:t,onChange:e=>l(e.target.value),placeholder:e("tools.textDedup.placeholder"),rows:10,allowClear:!0})]}),t&&(0,j.jsx)("div",{children:(0,j.jsx)("div",{className:"stats-info",children:(0,j.jsx)(g,{children:e("tools.textDedup.stats",{result:E.result,removed:E.removed})})})}),k&&(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"section-header",children:[(0,j.jsxs)(g,{strong:!0,children:[e("tools.textDedup.result")," (",E.result,")"]}),(0,j.jsx)(a,{size:"small",icon:(0,j.jsx)(r,{}),onClick:()=>{k?(navigator.clipboard.writeText(k),n.success(e("tools.textDedup.messages.copySuccess"))):n.warning(e("tools.textDedup.messages.copyEmpty"))},children:e("common.copy")})]}),(0,j.jsx)(v,{value:k,readOnly:!0,rows:10,className:"result-textarea"})]})]})}),(0,j.jsxs)(o,{className:"info-card",bordered:!1,children:[(0,j.jsx)(m,{level:4,children:e("tools.textDedup.info.title")}),(0,j.jsxs)("ul",{children:[(0,j.jsxs)("li",{children:[(0,j.jsxs)(g,{strong:!0,children:[e("tools.textDedup.options.ignoreCase"),"："]}),'开启后，"ABC" 和 "abc" 会被视为相同内容']}),(0,j.jsxs)("li",{children:[(0,j.jsxs)(g,{strong:!0,children:[e("tools.textDedup.options.trim"),"："]}),"开启后，比较时会忽略每行首尾的空格"]}),(0,j.jsxs)("li",{children:[(0,j.jsxs)(g,{strong:!0,children:[e("tools.textDedup.options.removeEmpty"),"："]}),"自动删除所有空白行"]}),(0,j.jsxs)("li",{children:[(0,j.jsxs)(g,{strong:!0,children:[e("tools.textDedup.options.sort.title"),"："]}),"可选择升序或降序排列结果"]})]}),(0,j.jsx)(m,{level:4,style:{marginTop:16},children:e("tools.textDedup.info.usage")}),(0,j.jsxs)("ul",{children:[(0,j.jsx)("li",{children:e("tools.textDedup.info.list.0")}),(0,j.jsx)("li",{children:e("tools.textDedup.info.list.1")}),(0,j.jsx)("li",{children:e("tools.textDedup.info.list.2")}),(0,j.jsx)("li",{children:e("tools.textDedup.info.list.3")}),(0,j.jsx)("li",{children:e("tools.textDedup.info.list.4")})]})]})]})};export{D as default};