function n(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=Array(e);r<e;r++)t[r]=n[r];return t}function e(n,e,r){return(e=function(n){var e=function(n,e){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var t=r.call(n,e);if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==typeof e?e:e+""}(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function r(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,t)}return r}function t(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach(function(r){e(n,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function o(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function i(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,t)}return r}function c(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach(function(e){o(n,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})}return n}function a(n){return function e(){for(var r=this,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return o.length>=n.length?n.apply(this,o):function(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return e.apply(r,[].concat(o,t))}}}function u(n){return{}.toString.call(n).includes("Object")}function l(n){return"function"==typeof n}var f=a(function(n,e){throw new Error(n[e]||n.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),s={changes:function(n,e){return u(e)||f("changeType"),Object.keys(e).some(function(e){return r=n,t=e,!Object.prototype.hasOwnProperty.call(r,t);var r,t})&&f("changeField"),e},selector:function(n){l(n)||f("selectorType")},handler:function(n){l(n)||u(n)||f("handlerType"),u(n)&&Object.values(n).some(function(n){return!l(n)})&&f("handlersType")},initial:function(n){var e;n||f("initialIsRequired"),u(n)||f("initialType"),e=n,Object.keys(e).length||f("initialContent")}};function p(n,e){return l(e)?e(n.current):e}function d(n,e){return n.current=c(c({},n.current),e),e}function y(n,e,r){return l(e)?e(n.current):Object.keys(r).forEach(function(r){var t;return null===(t=e[r])||void 0===t?void 0:t.call(e,n.current[r])}),r}var g={create:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.initial(n),s.handler(e);var r={current:n},t=a(y)(r,e),o=a(d)(r),i=a(s.changes)(n),c=a(p)(r);return[function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(n){return n};return s.selector(n),n(r.current)},function(n){!function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return function(n){return e.reduceRight(function(n,e){return e(n)},n)}}(t,o,i,c)(n)}]}};var h,b={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},v=(h=function(n,e){throw new Error(n[e]||n.default)},function n(){for(var e=this,r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return t.length>=h.length?h.apply(this,t):function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n.apply(e,[].concat(t,o))}})(b),m={config:function(n){var e;return n||v("configIsRequired"),e=n,{}.toString.call(e).includes("Object")||v("configType"),n.urls?(console.warn(b.deprecation),{paths:{vs:n.urls.monacoBase}}):n}};function j(n,e){return Object.keys(e).forEach(function(r){e[r]instanceof Object&&n[r]&&Object.assign(e[r],j(n[r],e[r]))}),t(t({},n),e)}var O={type:"cancelation",msg:"operation is manually canceled"};function w(n){var e=!1,r=new Promise(function(r,t){n.then(function(n){return e?t(O):r(n)}),n.catch(t)});return r.cancel=function(){return e=!0},r}var P,I,S=["monaco"],T=g.create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}),k=(I=2,function(n){if(Array.isArray(n))return n}(P=T)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,o,i,c,a=[],u=!0,l=!1;try{if(i=(r=r.call(n)).next,0===e);else for(;!(u=(t=i.call(r)).done)&&(a.push(t.value),a.length!==e);u=!0);}catch(f){l=!0,o=f}finally{try{if(!u&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(l)throw o}}return a}}(P,I)||function(e,r){if(e){if("string"==typeof e)return n(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,r):void 0}}(P,I)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),A=k[0],E=k[1];function D(n){return document.body.appendChild(n)}function q(n){var e,r,t=A(function(n){return{config:n.config,reject:n.reject}}),o=(e="".concat(t.config.paths.vs,"/loader.js"),r=document.createElement("script"),e&&(r.src=e),r);return o.onload=function(){return n()},o.onerror=t.reject,o}function R(){var n=A(function(n){return{config:n.config,resolve:n.resolve,reject:n.reject}}),e=window.require;e.config(n.config),e(["vs/editor/editor.main"],function(e){var r=e.m||e;z(r),n.resolve(r)},function(e){n.reject(e)})}function z(n){A().monaco||E({monaco:n})}var x=new Promise(function(n,e){return E({resolve:n,reject:e})}),C={config:function(n){var e=m.config(n),r=e.monaco,t=function(n,e){if(null==n)return{};var r,t,o=function(n,e){if(null==n)return{};var r={};for(var t in n)if({}.hasOwnProperty.call(n,t)){if(-1!==e.indexOf(t))continue;r[t]=n[t]}return r}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(t=0;t<i.length;t++)r=i[t],-1===e.indexOf(r)&&{}.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}(e,S);E(function(n){return{config:j(n.config,t),monaco:r}})},init:function(){var n=A(function(n){return{monaco:n.monaco,isInitialized:n.isInitialized,resolve:n.resolve}});if(!n.isInitialized){if(E({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),w(x);if(window.monaco&&window.monaco.editor)return z(window.monaco),n.resolve(window.monaco),w(x);!function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return function(n){return e.reduceRight(function(n,e){return e(n)},n)}}(D,q)(R)}return w(x)},__getMonacoInstance:function(){return A(function(n){return n.monaco})}};export{C as t};